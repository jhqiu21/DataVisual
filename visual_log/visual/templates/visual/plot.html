{% extends "visual_logs/base.html" %}

{% block page_header %}
  <div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with button groups">
    <h3>Preview Plot</h3>
    <a href="data:image/png;base64,{{ image_base64 }}" download="{{ plot_title }}.png" class="btn btn-outline-primary">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
      </svg>
    </a>
  </div>
{% endblock page_header %}

{% block content %}

    <div style="text-align: center;">
      <img src="data:image/png;base64,{{ image_base64 }}" alt="Plot Image" width="65%" height="auto">
    </div>
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
      <button type="button" class="btn btn-outline-primary" data-toggle="modal" data-target="#exampleModal">
        Upload another file
      </button>
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Notice</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Your generate plot will not be stored, please save the plot if necessary before uploading a new data set.
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
            <a href="{% url 'visual:upload_file' %}" class="btn btn-outline-primary">Upload</a>
          </div>
        </div>
      </div>
    </div>

{% endblock %}
